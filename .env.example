# =================================================
# ThiQaX Platform Environment Configuration
# =================================================
# Copy this file to .env, .env.development, .env.staging, or .env.production
# =================================================

# =================================================
# SERVER CONFIGURATION
# =================================================
NODE_ENV=development
PORT=5000
BASE_URL=http://localhost:5000
HOST=localhost
TRUST_PROXY=false

# =================================================
# DATABASE CONFIGURATION
# =================================================
MONGODB_URI=mongodb://localhost:27017/thiqax
# Connection retry settings
DB_MAX_CONNECT_RETRIES=5
DB_CONNECT_RETRY_INTERVAL=5000

# =================================================
# AUTHENTICATION & SECURITY
# =================================================
# JWT Configuration
JWT_SECRET=use_a_strong_random_secret_key_here
JWT_EXPIRE=30d
JWT_COOKIE_EXPIRE=30
JWT_REFRESH_SECRET=separate_refresh_token_secret_key
JWT_REFRESH_EXPIRE=90d
JWT_ISSUER=thiqax-api
JWT_AUDIENCE=thiqax-client

# Security Settings
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
ENABLE_RATE_LIMIT=true
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes in milliseconds
RATE_LIMIT_MAX=100 # Max requests per window
HELMET_ENABLED=true

# Redis Configuration (for rate limiting, caching, etc.)
REDIS_URL=redis://localhost:6379

# =================================================
# FILE HANDLING & DOCUMENT VERIFICATION
# =================================================
# File Upload Configuration
STORAGE_TYPE=local # Options: local, gcp, s3
UPLOAD_PATH=uploads/
DOCUMENT_BASE_URL=http://localhost:5000/uploads
MAX_FILE_SIZE=10485760 # 10MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,application/pdf,image/jpg
DOCUMENT_RETENTION_DAYS=90

# Google Cloud Storage (when STORAGE_TYPE=gcp)
GCP_BUCKET=thiqax-documents
# GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json
# GCP_SERVICE_ACCOUNT_KEY={"type":"service_account",...} # Base64 encoded JSON

# =================================================
# NOTIFICATIONS
# =================================================
# Email Configuration
EMAIL_ENABLED=true
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_EMAIL=your-email@example.com
SMTP_PASSWORD=your-email-password
FROM_EMAIL=noreply@thiqax.com
FROM_NAME=ThiQaX
EMAIL_TEMPLATE_DIR=src/templates/email

# Push Notifications
PUSH_ENABLED=false
FCM_SERVER_KEY=your_firebase_cloud_messaging_key

# Document Expiration Notification Settings
EXPIRY_CHECK_DAYS=30 # Days before expiry to send notification
EXPIRY_REMINDER_INTERVAL=7 # Days between reminders
EXPIRY_CHECK_CRON=0 0 * * * # Daily at midnight

# =================================================
# LOGGING & MONITORING
# =================================================
LOG_LEVEL=debug # Options: error, warn, info, debug
LOG_TO_FILE=true
LOG_FILE_PATH=logs/
LOG_MAX_SIZE=10m
LOG_MAX_FILES=7

# Prometheus Metrics
ENABLE_METRICS=true
METRICS_INTERVAL_MS=10000 # 10 seconds

# =================================================
# API CONFIGURATION
# =================================================
API_VERSION=v1
ENABLE_SWAGGER=true
FRONTEND_URL=http://localhost:3000
CLIENT_URL=http://localhost:3000 # Same as FRONTEND_URL, for compatibility

# =================================================
# BLOCKCHAIN INTEGRATION (PHASE II)
# =================================================
BLOCKCHAIN_ENABLED=false
# BLOCKCHAIN_PROVIDER_URL=https://rinkeby.infura.io/v3/your_infura_id
# BLOCKCHAIN_CONTRACT_ADDRESS=0x0000000000000000000000000000000000000000
# BLOCKCHAIN_PRIVATE_KEY=your_private_key

# =================================================
# FEATURE FLAGS
# =================================================
ENABLE_DOCUMENT_VERIFICATION=true
ENABLE_PAYMENT_PROCESSING=false
ENABLE_BLOCKCHAIN_FEATURES=false
ENABLE_AI_VERIFICATION=false
ENABLE_ADVANCED_SEARCH=false

# =================================================
# DEVELOPMENT TOOLS
# =================================================
# Storage Emulator (for local development)
# STORAGE_EMULATOR_HOST=http://localhost:9199
